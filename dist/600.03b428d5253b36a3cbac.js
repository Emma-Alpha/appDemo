"use strict";(window["garfish-demo"]=window["garfish-demo"]||[]).push([[600],{3133:function(f,D,c){c.d(D,{Z:function(){return k}});var b=Object.defineProperty,w=(i,a,l)=>a in i?b(i,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[a]=l,m=(i,a,l)=>(w(i,typeof a!="symbol"?a+"":a,l),l);const v=c(7258),g="ywkf_jwt";class k{static setAccessToken(a){v.set(g,a?`${a.token_type} ${a.access_token}`:"",{expires:new Date(a.expires_at*1e3)})}static getAccessToken(a){return v.get(a)}static clearAccessToken(a){v.remove(a)}}m(k,"key",g)},6592:function(f,D,c){c.d(D,{c:function(){return C}});var b=c(7977),w=c.n(b),m=c(6419),v=c(3133),g=Object.defineProperty,k=(E,o,n)=>o in E?g(E,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):E[o]=n,i=(E,o,n)=>(k(E,typeof o!="symbol"?o+"":o,n),n);const a="/api",l="6000";class C{constructor(o){i(this,"instance"),i(this,"baseConfig",{baseURL:a,timeout:Number(l)}),this.instance=w().create(Object.assign(this.baseConfig,o)),this.instance.interceptors.request.use(n=>(n.headers=n.headers||{},n.headers.Authorization=v.Z.getAccessToken("ywkf_jwt")||"",n),n=>Promise.reject(n)),this.instance.interceptors.response.use(n=>{const{data:p}=n,{code:O,message:h}=p;return O===1?(m.Z.error({message:h||"\u672A\u77E5\u9519\u8BEF"}),Promise.reject(p)):O===999?(m.Z.error({message:h||"\u767B\u5F55\u8FC7\u671F, \u8BF7\u91CD\u65B0\u767B\u5F55"}),Promise.reject(p)):O!==0?(m.Z.error({message:h||"\u672A\u5B9A\u4E49\u9519\u8BEF"}),Promise.reject(p)):(O===0&&h&&m.Z.success({message:h}),n.data)},n=>{let p="";switch(n.response.status){case 400:p="\u8BF7\u6C42\u9519\u8BEF(400)";break;case 401:p="\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)";break;case 403:p="\u62D2\u7EDD\u8BBF\u95EE(403)";break;case 404:p="\u8BF7\u6C42\u51FA\u9519(404)";break;case 408:p="\u8BF7\u6C42\u8D85\u65F6(408)";break;case 500:p="\u670D\u52A1\u5668\u9519\u8BEF(500)";break;case 501:p="\u670D\u52A1\u672A\u5B9E\u73B0(501)";break;case 502:p="\u7F51\u7EDC\u9519\u8BEF(502)";break;case 503:p="\u670D\u52A1\u4E0D\u53EF\u7528(503)";break;case 504:p="\u7F51\u7EDC\u8D85\u65F6(504)";break;case 505:p="HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)";break;default:p=`\u8FDE\u63A5\u51FA\u9519(${n.response.status})!`}return Promise.reject(n.response)})}request(o){return this.instance.request(o)}get(o,n){return this.instance.get(o,n)}post(o,n,p){return this.instance.post(o,n,p)}put(o,n,p){return this.instance.put(o,n,p)}delete(o,n){return this.instance.delete(o,n)}}var S=new C({})},4600:function(f,D,c){c.r(D);var b=c(959),w=c(4645),m=c(5355),v=c(1516),g=c(5034);function k(){const i=(0,v.Z)(l=>l.setLayout),a=(0,g.s0)();return(0,b.useEffect)(()=>(i({renderSider:!1}),()=>{i({renderSider:!0})}),[]),b.createElement(w.ZP,{status:"404",title:"404",subTitle:"\u62B1\u6B49\uFF0C\u60A8\u8BBF\u95EE\u7684\u9875\u9762\u4E0D\u5B58\u5728\u3002",extra:b.createElement(m.ZP,{type:"primary",onClick:()=>a("/")},"\u8FD4\u56DE\u9996\u9875")})}D.default=k},1516:function(f,D,c){c.d(D,{Z:function(){return h}});var b=c(6497),w=c(6592);const m=new w.c({});function v(s){return m.get("/main/gateway/copyright",s)}function g(s){return m.get("/main/gateway/profile",s)}function k(s){return m.get("/main/gateway/perarr",s)}function i(s){return m.get("/main/gateway/module",s)}var a=c(6685),l=Object.defineProperty,C=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,o=(s,d,e)=>d in s?l(s,d,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[d]=e,n=(s,d)=>{for(var e in d||(d={}))S.call(d,e)&&o(s,e,d[e]);if(C)for(var e of C(d))E.call(d,e)&&o(s,e,d[e]);return s},p=(s,d,e)=>new Promise((_,r)=>{var u=t=>{try{A(e.next(t))}catch(y){r(y)}},P=t=>{try{A(e.throw(t))}catch(y){r(y)}},A=t=>t.done?_(t.value):Promise.resolve(t.value).then(u,P);A((e=e.apply(s,d)).next())}),h=(0,b.Ue)()((s,d)=>({year:{s:"0",e:"0"},currentUser:{},navCode:[],microActiveApps:[],siderRoutes:{},getYearData:e=>p(void 0,null,function*(){const{data:_}=yield v(e);s({year:_.year})}),syncGetCurrentUser:e=>{g(e).then(_=>{const{data:r}=_;s({currentUser:r?.user})})},getCurrentUser:e=>p(void 0,null,function*(){const{data:_}=yield g({});return s({currentUser:_?.user}),{currentUser:_?.user}}),syncGetNav:e=>{k(e).then(_=>{const{data:r}=_;s({navCode:r})})},getNav:e=>p(void 0,null,function*(){const{data:_}=yield k(e);return s({navCode:_}),{navCode:_}}),modules:[],syncGetModule:e=>{i(e).then(_=>{const{data:r}=_;s({modules:r})})},getModule:e=>p(void 0,null,function*(){const{data:_}=yield i(e);return s({modules:_}),{modules:_}}),getBasicInfo:e=>p(void 0,null,function*(){try{const _=d().getCurrentUser,r=yield _(e),u=d().getNav,P=yield u(e),A=d().getModule,t=yield A(e);return n(n(n({},r),P),t)}catch(_){return console.log(_),{currentUser:"",navCode:[],modules:[]}}}),layout:{renderFooter:!1,renderHeader:!0,renderSider:!0},setLayout:e=>{const _=d().layout;s({layout:n(n({},_),e)})},setMicroActiveApps:e=>{const{action:_,appInfo:r}=e,u=a.Z.cloneDeep(d().microActiveApps);switch(_){case"add":if(u.find(t=>t.id===r.id))return;u.push(r),s({microActiveApps:u});return;case"delete":const P=u.findIndex(t=>t.id===r.id);if(P===-1)return;u.splice(P,1),s({microActiveApps:u});return;case"update":const A=u.findIndex(t=>t.id===r.id);if(A===-1)return;u[A]=r,s({microActiveApps:u});return}},setSiderRoutes:e=>{const _=d().siderRoutes;s({siderRoutes:n(n({},_),e)})}}))}}]);
